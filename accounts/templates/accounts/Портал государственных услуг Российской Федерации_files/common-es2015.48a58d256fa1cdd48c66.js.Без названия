(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"55/F":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("jtHE"),i=s("fXoL"),o=s("S2y7"),c=s("b6Qw"),a=s("q3pR");let r=(()=>{class e{constructor(e,t,s){this.api=e,this.cookieService=t,this.constants=s,this.avatar$=new n.a}check(){const e=this.cookieService.get(this.constants.AUTH_COOKIE),t=this.cookieService.get(this.constants.AVATAR_COOKIE);return e&&(this.login=this.prettyLogin(decodeURIComponent(e)),t&&this.api.getRequest("esia-rs/api/public/v1/avatar/"+t).subscribe(e=>{this.avatar$.next("/useravatar"+e.url)})),!!e}prettyLogin(e){const t=e.split(":"),s=t[1];switch(t[0]){case"phone":return s.replace(/\D/g,"").replace(this.constants.regExp.searchPhone,"$1$2$3").replace(this.constants.regExp.formatPhoneHyphens,"+7 ($1) $2-$3-$4");case"email":case"snils":return s}}saveLogin(e){this.cookieService.set(this.constants.AUTH_COOKIE,`${e.idType}:${encodeURIComponent(e.login)}`,30,"/")}forgot(){this.cookieService.delete(this.constants.AUTH_COOKIE,"/"),this.cookieService.delete(this.constants.AVATAR_COOKIE,"/")}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.a),i["\u0275\u0275inject"](c.a),i["\u0275\u0275inject"](a.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);